<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=author content><title>Multi-Engine Support</title><link href=/css/bootstrap.css rel=stylesheet><link href=/css/markdown.css rel=stylesheet><link href=/css/katex.min.css rel=stylesheet><link href=/css/iceberg-theme.css rel=stylesheet><link href=/font-awesome-4.7.0/css/font-awesome.min.css rel=stylesheet type=text/css><link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel=stylesheet type=text/css><link href=/css/termynal.css rel=stylesheet></head><body><head><script>function addAnchor(e){e.insertAdjacentHTML("beforeend",`<a href="#${e.id}" class="anchortag" ariaLabel="Anchor"> ðŸ”— </a>`)}document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll("h1[id], h2[id], h3[id], h4[id]");e&&e.forEach(addAnchor)})</script></head><nav class="navbar navbar-default" role=navigation><topsection><div class=navbar-fixed-top><div><button type=button class=navbar-toggle data-toggle=collapse data-target=div.sidebar>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span></button>
<a class="page-scroll navbar-brand" href=https://iceberg.apache.org/><img class=top-navbar-logo src=https://iceberg.apache.org//img/iceberg-logo-icon.png> Apache Iceberg</a></div><div><input type=search class=form-control id=search-input placeholder=Search... maxlength=64 data-hotkeys=s/></div><div class=versions-dropdown><span>1.2.1</span> <i class="fa fa-chevron-down"></i><div class=versions-dropdown-content><ul><li class=versions-dropdown-selection><a href=/docs/latest>latest</a></li><li class=versions-dropdown-selection><a href=/docs/1.2.1>1.2.1</a></li><li class=versions-dropdown-selection><a href=/docs/1.2.0>1.2.0</a></li><li class=versions-dropdown-selection><a href=/docs/1.1.0>1.1.0</a></li><li class=versions-dropdown-selection><a href=/docs/1.0.0>1.0.0</a></li><li class=versions-dropdown-selection><a href=/docs/0.14.1>0.14.1</a></li><li class=versions-dropdown-selection><a href=/docs/0.14.0>0.14.0</a></li><li class=versions-dropdown-selection><a href=/docs/0.13.2>0.13.2</a></li><li class=versions-dropdown-selection><a href=/docs/0.13.1>0.13.1</a></li><li class=versions-dropdown-selection><a href=/docs/0.13.0>0.13.0</a></li><li class=versions-dropdown-selection><a href=/docs/0.12.1>0.12.1</a></li></ul></div></div></div><div class="navbar-menu-fixed-top navbar-pages-group"><div class=topnav-page-selection><a href=/spark-quickstart>Quickstart</a></div class="topnav-page-selection"><div class=topnav-page-selection><a href=/docs/latest>Docs</a></div class="topnav-page-selection"><div class=topnav-page-selection><a href=/releases>Releases</a></div class="topnav-page-selection"><div class=topnav-page-selection><a href=/roadmap>Roadmap</a></div class="topnav-page-selection"><div class=topnav-page-selection><a href=/blogs>Blogs</a></div class="topnav-page-selection"><div class=topnav-page-selection><a href=/talks>Talks</a></div class="topnav-page-selection"><div class=topnav-page-selection><a href=/vendors>Vendors</a></div class="topnav-page-selection"><div class=versions-dropdown><div class=topnav-page-selection><a href>Project</a> <i class="fa fa-chevron-down"></i></div class="topnav-page-selection"><div class=versions-dropdown-content><ul><li class=topnav-page-selection><a href=/community>Join</a></li class="topnav-page-selection"><li class=topnav-page-selection><a href=/spec>Spec</a></li class="topnav-page-selection"><li class=topnav-page-selection><a href=/view-spec>View Spec</a></li class="topnav-page-selection"><li class=topnav-page-selection><a href=/puffin-spec>Puffin Spec</a></li class="topnav-page-selection"><li class=topnav-page-selection><a id=active href=/multi-engine-support>Multi-Engine Support</a></li class="topnav-page-selection"><li class=topnav-page-selection><a href=/how-to-release>How To Release</a></li class="topnav-page-selection"><li class=topnav-page-selection><a href=/terms>Terms</a></li class="topnav-page-selection"></ul></div></div><div class=versions-dropdown><div class=topnav-page-selection><a href>ASF</a> <i class="fa fa-chevron-down"></i></div class="topnav-page-selection"><div class=versions-dropdown-content><ul><li class=topnav-page-selection><a target=_blank href=https://www.apache.org/foundation/sponsorship.html>Donate</a></li class="topnav-page-selection"><li class=topnav-page-selection><a target=_blank href=https://www.apache.org/events/current-event.html>Events</a></li class="topnav-page-selection"><li class=topnav-page-selection><a target=_blank href=https://www.apache.org/licenses/>License</a></li class="topnav-page-selection"><li class=topnav-page-selection><a target=_blank href=https://www.apache.org/security/>Security</a></li class="topnav-page-selection"><li class=topnav-page-selection><a target=_blank href=https://www.apache.org/foundation/thanks.html>Sponsors</a></li class="topnav-page-selection"></ul></div></div><div class=topnav-page-selection><a href=https://github.com/apache/iceberg target=_blank><img src=https://iceberg.apache.org//img/GitHub-Mark.png target=_blank class=top-navbar-logo></a></div><div class=topnav-page-selection><a href=https://join.slack.com/t/apache-iceberg/shared_invite/zt-1oj35f7yc-wuTEhvkiqjGLje83B7rG8A target=_blank><img src=https://iceberg.apache.org//img/Slack_Mark_Web.png target=_blank class=top-navbar-logo></a></div></div></topsection></nav><section><div id=search-results-container><ul id=search-results></ul></div></section><body dir=" ltr"><section><div class="grid-container toc-only"><div id=content class=markdown-body><div class=margin-for-toc><h1 id=multi-engine-support>Multi-Engine Support</h1><p>Apache Iceberg is an open standard for huge analytic tables that can be used by any processing engine.
The community continuously improves Iceberg core library components to enable integrations with different compute engines that power analytics, business intelligence, machine learning, etc.
Connectors for Spark, Flink and Hive are maintained in the main Iceberg repository.</p><h2 id=multi-version-support>Multi-Version Support</h2><p>Processing engine connectors maintained in the iceberg repository are built for multiple versions.</p><p>For Spark and Flink, each new version that introduces backwards incompatible upgrade has its dedicated integration codebase and release artifacts.
For example, the code for Iceberg Spark 3.1 integration is under <code>/spark/v3.1</code> and the code for Iceberg Spark 3.2 integration is under <code>/spark/v3.2</code>.
Different artifacts (<code>iceberg-spark-3.1_2.12</code> and <code>iceberg-spark-3.2_2.12</code>) are released for users to consume.
By doing this, changes across versions are isolated.
New features in Iceberg could be developed against the latest features of an engine without breaking support of old APIs in past engine versions.</p><p>For Hive, Hive 2 uses the <code>iceberg-mr</code> package for Iceberg integration, and Hive 3 requires an additional dependency of the <code>iceberg-hive3</code> package.</p><h3 id=runtime-jar>Runtime Jar</h3><p>Iceberg provides a runtime connector jar for each supported version of Spark, Flink and Hive.
When using Iceberg with these engines, the runtime jar is the only addition to the classpath needed in addition to vendor dependencies.
For example, to use Iceberg with Spark 3.2 and AWS integrations, <code>iceberg-spark-runtime-3.2_2.12</code> and AWS SDK dependencies are needed for the Spark installation.</p><p>Spark and Flink provide different runtime jars for each supported engine version.
Hive 2 and Hive 3 currently share the same runtime jar.
The runtime jar names and latest version download links are listed in <a href=./multi-engine-support/#current-engine-version-lifecycle-status>the tables below</a>.</p><h3 id=engine-version-lifecycle>Engine Version Lifecycle</h3><p>Each engine version undergoes the following lifecycle stages:</p><ol><li><strong>Beta</strong>: a new engine version is supported, but still in the experimental stage. Maybe the engine version itself is still in preview (e.g. Spark <code>3.0.0-preview</code>), or the engine does not yet have full feature compatibility compared to old versions yet. This stage allows Iceberg to release an engine version support without the need to wait for feature parity, shortening the release time.</li><li><strong>Maintained</strong>: an engine version is actively maintained by the community. Users can expect parity for most features across all the maintained versions. If a feature has to leverage some new engine functionalities that older versions don&rsquo;t have, then feature parity across maintained versions is not guaranteed.</li><li><strong>Deprecated</strong>: an engine version is no longer actively maintained. People who are still interested in the version can backport any necessary feature or bug fix from newer versions, but the community will not spend effort in achieving feature parity. Iceberg recommends users to move towards a newer version. Contributions to a deprecated version is expected to diminish over time, so that eventually no change is added to a deprecated version.</li><li><strong>End-of-life</strong>: a vote can be initiated in the community to fully remove a deprecated version out of the Iceberg repository to mark as its end of life.</li></ol><h2 id=current-engine-version-lifecycle-status>Current Engine Version Lifecycle Status</h2><h3 id=apache-spark>Apache Spark</h3><table><thead><tr><th>Version</th><th>Lifecycle Stage</th><th>Initial Iceberg Support</th><th>Latest Iceberg Support</th><th>Latest Runtime Jar</th></tr></thead><tbody><tr><td>2.4</td><td>Deprecated</td><td>0.7.0-incubating</td><td>1.2.1</td><td><a href="https://search.maven.org/remotecontent?filepath=org/apache/iceberg/iceberg-spark-runtime-2.4/1.2.1/iceberg-spark-runtime-2.4-1.2.1.jar">iceberg-spark-runtime-2.4</a></td></tr><tr><td>3.0</td><td>End of Life</td><td>0.9.0</td><td>1.0.0</td><td><a href="https://search.maven.org/remotecontent?filepath=org/apache/iceberg/iceberg-spark-runtime-3.0_2.12/1.0.0/iceberg-spark-runtime-3.0_2.12-1.0.0.jar">iceberg-spark-runtime-3.0_2.12</a></td></tr><tr><td>3.1</td><td>Maintained</td><td>0.12.0</td><td>1.2.1</td><td><a href="https://search.maven.org/remotecontent?filepath=org/apache/iceberg/iceberg-spark-runtime-3.1_2.12/1.2.1/iceberg-spark-runtime-3.1_2.12-1.2.1.jar">iceberg-spark-runtime-3.1_2.12</a> [1]</td></tr><tr><td>3.2</td><td>Maintained</td><td>0.13.0</td><td>1.2.1</td><td><a href="https://search.maven.org/remotecontent?filepath=org/apache/iceberg/iceberg-spark-runtime-3.2_2.12/1.2.1/iceberg-spark-runtime-3.2_2.12-1.2.1.jar">iceberg-spark-runtime-3.2_2.12</a></td></tr><tr><td>3.3</td><td>Maintained</td><td>0.14.0</td><td>1.2.1</td><td><a href="https://search.maven.org/remotecontent?filepath=org/apache/iceberg/iceberg-spark-runtime-3.3_2.12/1.2.1/iceberg-spark-runtime-3.3_2.12-1.2.1.jar">iceberg-spark-runtime-3.3_2.12</a></td></tr></tbody></table><ul><li>[1] Spark 3.1 shares the same runtime jar <code>iceberg-spark3-runtime</code> with Spark 3.0 before Iceberg 0.13.0</li></ul><h3 id=apache-flink>Apache Flink</h3><p>Based on the guideline of the Flink community, only the latest 2 minor versions are actively maintained.
Users should continuously upgrade their Flink version to stay up-to-date.</p><table><thead><tr><th>Version</th><th>Lifecycle Stage</th><th>Initial Iceberg Support</th><th>Latest Iceberg Support</th><th>Latest Runtime Jar</th></tr></thead><tbody><tr><td>1.11</td><td>End of Life</td><td>0.9.0</td><td>0.12.1</td><td><a href="https://search.maven.org/remotecontent?filepath=org/apache/iceberg/iceberg-flink-runtime/0.12.1/iceberg-flink-runtime-0.12.1.jar">iceberg-flink-runtime</a></td></tr><tr><td>1.12</td><td>End of Life</td><td>0.12.0</td><td>0.13.1</td><td><a href=https://repo1.maven.org/maven2/org/apache/iceberg/iceberg-flink-runtime-1.12/0.13.2/iceberg-flink-runtime-1.12-0.13.2.jar>iceberg-flink-runtime-1.12</a> [3]</td></tr><tr><td>1.13</td><td>End of Life</td><td>0.13.0</td><td>1.0.0</td><td><a href=https://repo1.maven.org/maven2/org/apache/iceberg/iceberg-flink-runtime-1.13/1.2.0/iceberg-flink-runtime-1.13-1.0.0.jar>iceberg-flink-runtime-1.13</a></td></tr><tr><td>1.14</td><td>End of Life</td><td>0.13.0</td><td>1.2.0</td><td><a href="https://search.maven.org/remotecontent?filepath=org/apache/iceberg/iceberg-flink-runtime-1.14/1.2.0/iceberg-flink-runtime-1.14-1.2.0.jar">iceberg-flink-runtime-1.14</a></td></tr><tr><td>1.15</td><td>Deprecated</td><td>0.14.0</td><td>1.2.1</td><td><a href="https://search.maven.org/remotecontent?filepath=org/apache/iceberg/iceberg-flink-runtime-1.15/1.2.1/iceberg-flink-runtime-1.15-1.2.1.jar">iceberg-flink-runtime-1.15</a></td></tr><tr><td>1.16</td><td>Maintained</td><td>1.1.0</td><td>1.2.1</td><td><a href="https://search.maven.org/remotecontent?filepath=org/apache/iceberg/iceberg-flink-runtime-1.16/1.2.1/iceberg-flink-runtime-1.16-1.2.1.jar">iceberg-flink-runtime-1.16</a></td></tr><tr><td>1.17</td><td>Maintained</td><td>1.3.0</td><td>1.2.1</td><td><a href="https://search.maven.org/remotecontent?filepath=org/apache/iceberg/iceberg-flink-runtime-1.17/1.2.1/iceberg-flink-runtime-1.17-1.2.1.jar">iceberg-flink-runtime-1.17</a></td></tr></tbody></table><ul><li>[3] Flink 1.12 shares the same runtime jar <code>iceberg-flink-runtime</code> with Flink 1.11 before Iceberg 0.13.0</li></ul><h3 id=apache-hive>Apache Hive</h3><table><thead><tr><th>Version</th><th>Recommended minor version</th><th>Lifecycle Stage</th><th>Initial Iceberg Support</th><th>Latest Iceberg Support</th><th>Latest Runtime Jar</th></tr></thead><tbody><tr><td>2</td><td>2.3.8</td><td>Maintained</td><td>0.8.0-incubating</td><td>1.2.1</td><td><a href="https://search.maven.org/remotecontent?filepath=org/apache/iceberg/iceberg-hive-runtime/1.2.1/iceberg-hive-runtime-1.2.1.jar">iceberg-hive-runtime</a></td></tr><tr><td>3</td><td>3.1.2</td><td>Maintained</td><td>0.10.0</td><td>1.2.1</td><td><a href="https://search.maven.org/remotecontent?filepath=org/apache/iceberg/iceberg-hive-runtime/1.2.1/iceberg-hive-runtime-1.2.1.jar">iceberg-hive-runtime</a></td></tr></tbody></table><h2 id=developer-guide>Developer Guide</h2><h3 id=maintaining-existing-engine-versions>Maintaining existing engine versions</h3><p>Iceberg recommends the following for developers who are maintaining existing engine versions:</p><ol><li>New features should always be prioritized first in the latest version, which is either a maintained or beta version.</li><li>For features that could be backported, contributors are encouraged to either perform backports to all maintained versions, or at least create some issues to track the backport.</li><li>If the change is small enough, updating all versions in a single PR is acceptable. Otherwise, using separated PRs for each version is recommended.</li></ol><h3 id=supporting-new-engines>Supporting new engines</h3><p>Iceberg recommends new engines to build support by importing the Iceberg libraries to the engine&rsquo;s project.
This allows the Iceberg support to evolve with the engine.
Projects such as <a href=https://trino.io/docs/current/connector/iceberg.html>Trino</a> and <a href=https://prestodb.io/docs/current/connector/iceberg.html>Presto</a> are good examples of such support strategy.</p><p>In this approach, an Iceberg version upgrade is needed for an engine to consume new Iceberg features.
To facilitate engine development against unreleased Iceberg features, a daily snapshot is published in the <a href=https://repository.apache.org/content/repositories/snapshots/org/apache/iceberg/>Apache snapshot repository</a>.</p><p>If bringing an engine directly to the Iceberg main repository is needed, please raise a discussion thread in the <a href=../community>Iceberg community</a>.</p></div><div id=toc class=markdown-body><div id=full><nav id=TableOfContents><ul><li><a href=#multi-version-support>Multi-Version Support</a><ul><li><a href=#runtime-jar>Runtime Jar</a></li><li><a href=#engine-version-lifecycle>Engine Version Lifecycle</a></li></ul></li><li><a href=#current-engine-version-lifecycle-status>Current Engine Version Lifecycle Status</a><ul><li><a href=#apache-spark>Apache Spark</a></li><li><a href=#apache-flink>Apache Flink</a></li><li><a href=#apache-hive>Apache Hive</a></li></ul></li><li><a href=#developer-guide>Developer Guide</a><ul><li><a href=#maintaining-existing-engine-versions>Maintaining existing engine versions</a></li><li><a href=#supporting-new-engines>Supporting new engines</a></li></ul></li></ul></nav></div></div></div></div></section></body><script src=https://iceberg.apache.org//js/jquery-1.11.0.js></script>
<script src=https://iceberg.apache.org//js/jquery.easing.min.js></script>
<script type=text/javascript src=https://iceberg.apache.org//js/search.js></script>
<script src=https://iceberg.apache.org//js/bootstrap.min.js></script>
<script src=https://iceberg.apache.org//js/iceberg-theme.js></script></html>